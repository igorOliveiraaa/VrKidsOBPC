<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>História da Bíblia - Primeiro Dia: A Luz</title>
  <link rel="stylesheet" href="./style/style.css">
  <script src="./lib/aframe.min.js"></script>
</head>
<body>
  <div id="fade" class="fade"></div>
  <a-scene>
    <a-assets id="assets"></a-assets>
    <a-sky id="sky" rotation="0 -130 0" src="./img/dia1.png"></a-sky>
    <a-camera look-controls="reverseTouchDrag: true"></a-camera>
  </a-scene>
  
  <img id="narrator" src="./img/narrador/narrador.png" alt="Narrator" onclick="toggleNarration()" />
  <div id="speech-bubble">Clique aqui para começar a história</div>
  <audio id="narration-audio" src="./audios/dia1.mp3" controls style="display: none;"></audio>

  <script>
    let isNarrating = false;

    function toggleNarration() {
      const speechBubble = document.getElementById('speech-bubble');
      const narrationAudio = document.getElementById('narration-audio');
      if (isNarrating) {
        narrationAudio.pause();
        narrationAudio.currentTime = 0;
        speechBubble.innerText = 'Clique aqui para começar a história';
        isNarrating = false;
      } else {
        narrationAudio.play();
        speechBubble.innerText = 'A história começou...';
        isNarrating = true;

        narrationAudio.onended = () => {
          speechBubble.innerText = 'Clique aqui para começar a história';
          isNarrating = false;
        };
      }
    }
  </script>
</body>
</html>
